import type { PluginInput } from "@opencode-ai/plugin";
export interface Deduplication {
    enabled: boolean;
    protectedTools: string[];
}
export interface PruneTool {
    permission: "ask" | "allow" | "deny";
}
export interface DistillTool {
    permission: "ask" | "allow" | "deny";
    showDistillation: boolean;
}
export interface CompressTool {
    permission: "ask" | "allow" | "deny";
    showCompression: boolean;
}
export interface ToolSettings {
    nudgeEnabled: boolean;
    nudgeFrequency: number;
    protectedTools: string[];
    contextLimit: number | `${number}%`;
    modelLimits?: Record<string, number | `${number}%`>;
}
export interface Tools {
    settings: ToolSettings;
    distill: DistillTool;
    compress: CompressTool;
    prune: PruneTool;
}
export interface Commands {
    enabled: boolean;
    protectedTools: string[];
}
export interface ManualModeConfig {
    enabled: boolean;
    automaticStrategies: boolean;
}
export interface SupersedeWrites {
    enabled: boolean;
}
export interface PurgeErrors {
    enabled: boolean;
    turns: number;
    protectedTools: string[];
}
export interface TurnProtection {
    enabled: boolean;
    turns: number;
}
export interface PluginConfig {
    enabled: boolean;
    debug: boolean;
    pruneNotification: "off" | "minimal" | "detailed";
    pruneNotificationType: "chat" | "toast";
    commands: Commands;
    manualMode: ManualModeConfig;
    turnProtection: TurnProtection;
    protectedFilePatterns: string[];
    tools: Tools;
    strategies: {
        deduplication: Deduplication;
        supersedeWrites: SupersedeWrites;
        purgeErrors: PurgeErrors;
    };
}
export declare const VALID_CONFIG_KEYS: Set<string>;
export declare function getInvalidConfigKeys(userConfig: Record<string, any>): string[];
interface ValidationError {
    key: string;
    expected: string;
    actual: string;
}
export declare function validateConfigTypes(config: Record<string, any>): ValidationError[];
export declare function getConfig(ctx: PluginInput): PluginConfig;
export {};
//# sourceMappingURL=config.d.ts.map